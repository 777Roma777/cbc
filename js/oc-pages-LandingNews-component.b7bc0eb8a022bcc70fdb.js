/*! For license information please see oc-pages-LandingNews-component.b7bc0eb8a022bcc70fdb.js.LICENSE.txt */
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3681],{63576:function(e,t,n){n(58109),n(95566),n(68438),n(83464),n(19496);var r=n(4942),i=(n(9867),n(7231),n(32747)),o=n(92972),s=n.n(o),c=n(26618),a=n(73906),l=n(33568),u=n(89920),p=n(49291),f=n(56552);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return function(r){var i=r.title,o=r.shortTitle,s=r.link,p=r.list,d="viewportSmall"===e?new a.Z:new c.Z,j={text:n&&o?o:i,link:s,external:!1},y=i?(0,f.jsx)(t.type,g(g({},t.props),j)):null;return(0,f.jsx)("div",{className:"moreStories sclt-morenews",children:(0,f.jsxs)("section",{className:"moreStoriesList",children:[y,(0,f.jsx)(l.Z,{displayPolicy:d,items:p,loadMore:!1,trackingSection:"contentlistmore".concat((0,u.hx)(s))},"news-hierarchy-".concat(i))]})},"morenews-".concat(i))}}var y=function(e){var t=e.title,n=void 0===t?"":t,r=e.contentList,i=void 0===r?[]:r,o=e.viewport,s=void 0===o?"viewportLarge":o,c=e.rightRailStyling,a=void 0!==c&&c,l=e.useShortTitle,u=void 0!==l&&l,d=a?(0,f.jsx)(p.X6,{text:"",level:"h2",levelClassName:"h3"}):(0,f.jsx)(p.OT,{text:""});return i&&i.length>0?(0,f.jsxs)("div",{className:"contentListing",children:[n&&(0,f.jsx)(p.OT,{text:n}),(0,f.jsx)("div",{className:"contentListingContentListHolder",children:i.map(j(s,d,u))})]}):null};y.propTypes={title:s().string,contentList:s().array,viewport:s().string,rightRailStyling:s().bool,useShortTitle:s().bool},t.C=(0,i.memo)(y)},1473:function(e,t,n){n.d(t,{Z:function(){return r.Z},d:function(){return r.d}});var r=n(18778)},70847:function(e,t,n){var r=n(32747),i=n(92972),o=n.n(i),s=n(14507),c=n.n(s),a=n(25641),l=n(7636),u=n(10078),p=n(88627),f=n(88101),d=n(32532),g=n(8375),j=n(56552);function y(e){var t=e.header,n=e.itemCount,i=e.section,o=e.videoLandingPath,s=e.viewport,y=(0,l.useSelector)((function(e){return e.sectionalContent})),h=(0,l.useSelector)((function(e){return e.app.path})),w=(0,l.useDispatch)();(0,r.useEffect)((function(){w(""!==o?(0,p.P4)(i,o,n):(0,u.m)(i,n))}),[h]);var O=o?y[o]:y[i],v=c()(d.Z.slider,g.Z.slider,(0,f.C_)("section",i));return(0,j.jsx)("div",{className:v,children:(0,j.jsx)("div",{className:d.Z.carouselContainer,children:(0,j.jsx)(a.Z,{header:t,list:O&&O.sectionList,viewport:s})})})}y.propTypes={header:o().string,viewport:o().string,videoLandingPath:o().string},y.defaultProps={header:"",viewport:"viewportLarge",videoLandingPath:""},t.Z=y},64107:function(e,t,n){n.d(t,{D_:function(){return O},FQ:function(){return w},Tn:function(){return h}});var r=n(43144),i=n(15671),o=n(82963),s=n(61120),c=n(60136),a=n(72407),l=n(41718);function u(e,t,n){return t=(0,s.Z)(t),(0,o.Z)(e,p()?Reflect.construct(t,n||[],(0,s.Z)(e).constructor):t.apply(e,n))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}var f=function(e){function t(){return(0,i.Z)(this,t),u(this,t,arguments)}return(0,c.Z)(t,e),(0,r.Z)(t)}((0,a.Z)(Error)),d=new f("Failed to send goal"),g=new f("Failed to send goal status not 200"),j=new f("Failed in selecting item goal"),y=function(e){200!==e.status&&l.default.error(g)},h=function(e){try{window.CBC.APP.AB.Testing.sendGoal(e,1,y)||l.default.error(d)}catch(t){l.default.error(d)}},w=function(e,t){return function(n){try{n.target.closest(e)&&h(t)}catch(r){l.default.error(new f("Failed in firing custom goal"))}}},O=function(e){return function(t){try{t.target.closest(e)&&h("api-selected-item")}catch(n){l.default.error(j)}}}},62397:function(e,t,n){n.r(t),n.d(t,{LandingNews:function(){return xe},default:function(){return Ze},getSplitContentArea:function(){return Se}});n(58109),n(95566),n(68438),n(83464),n(19496);var r=n(29439),i=n(4942),o=n(92972),s=n.n(o),c=n(49291),a=n(14507),l=n.n(a),u=n(7636),p=n(93433),f=n(15861),d=n(64687),g=n.n(d),j=n(32747),y=n(63576),h=n(16537),w=n(60612),O=n(4954),v=(0,n(93849).KF)("Client.contentApi.contentList.lineupIds.news/multi-lineup-listing"),b="".concat(v),m=[{title:"Canada",link:"/news/canada",lineupID:"newscanada",lineupSlug:"news-canada",categorySlug:"news-canada"},{title:"World",link:"/news/world",lineupID:"newsworld",lineupSlug:"news-world",categorySlug:"news-world"},{title:"Business",link:"/news/business",lineupID:"newsbusiness",lineupSlug:"news-business",categorySlug:"news-business"},{title:"Politics",link:"/news/politics",lineupID:"newspolitics",lineupSlug:"news-politics",categorySlug:"news-politics"},{title:"Entertainment",link:"/news/entertainment",lineupID:"newsentertainment",lineupSlug:"news-entertainment",categorySlug:"news-entertainment"},{title:"Science",link:"/news/science",lineupID:"newsscience",lineupSlug:"news-science",categorySlug:"science"},{title:"Health",link:"/news/health",lineupID:"newshealth",lineupSlug:"news-health",categorySlug:"news-health"},{title:"Indigenous",link:"/news/indigenous",lineupID:"newsindigenous",lineupSlug:"news-indigenous",categorySlug:"news-indigenous"}],P=n(91189),x=n(12077),S=n(41718),Z=n(25580),D=n(82196),C=n(56552);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(){return L=(0,f.Z)(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,P.$)(m,4);case 3:n=e.sent,r=(0,O.du)(m,n),t((0,p.Z)(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S.default.error("ContentListing rendering (".concat(b,") failed [Error: ").concat(e.t0.message,"]"),e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),L.apply(this,arguments)}var k=function(e){var t=e.viewport,n=e.splitProps,i=(0,j.useState)([]),o=(0,r.Z)(i,2),s=o[0],a=o[1],l={title:"News Sections",contentList:s,viewport:t,rightRailStyling:!0};(0,j.useEffect)((function(){!function(e){L.apply(this,arguments)}(a)}),[]);var p=(0,u.useSelector)((function(e){return(0,D.S)(e,"video.curatedPlaylist")}));return(0,C.jsxs)("div",{className:"landingNewsSplit",children:[(0,C.jsx)(x.Z,N({},n.featuredProps)),(0,C.jsx)(h.Z,{isSwimlane:!0}),function(){if(!n.moreContentProps.renderCuratedPlaylist)return null;var e=null!==p&&void 0!==p&&p.items?p.items.filter((function(e){return e})):[];return(0,C.jsxs)("div",{className:"playlistSwimlane",children:[(0,C.jsx)(c.OT,{text:"Featured Video"}),(0,C.jsx)(Z.Z,{layout:{playlistTitle:"Featured Video"},items:e})]})}(),(0,C.jsx)(w.Z,{type:"intercept",lazy:!0,targeting:{plc:"feed"}}),(0,C.jsx)(y.C,N({},l)),(0,C.jsx)(c.OT,{text:"More CBC News"}),(0,C.jsx)(x.Z,N({},n.moreContentProps))]})};k.propTypes={viewport:s().string,splitProps:s().object};var E=k,F=(n(30666),n(6129),n(47306)),_=n(63578),B=n(38262),A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=_.nv.find((function(t){return t.path===e}));return r&&r.mpxCategory&&t[r.mpxCategory]?(0,C.jsxs)("div",{className:"playlistSwimlane",children:[(0,C.jsx)(c.OT,{text:"".concat(r.title," Video")}),(0,C.jsx)(B.Z,{storePath:"video.clipsByCategory.".concat(r.mpxCategory),categoryTitle:r.title,featureAttribution:{name:"media-playlist-player",instance:r.mpxCategory.split("/").pop()},showThumbnails:!0,fireABGoal:n})]}):null},I=n(70847),M=n(52401),V=n(29274);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={headline:"Featured",itemCount:4,className:"newsTheme",showMoreLink:!1,hasHeadlineLink:!1,fetchSection:!0},K=function(e){var t=e.path,n=e.splitProps,r=(0,u.useSelector)((function(e){return e.video.clipsByCategory}));return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"landingNewsSplit",children:[(0,C.jsx)(x.Z,R({},n.featuredProps)),(0,C.jsx)(F.Z,R(R({},G),{},{section:"".concat(t,"/swimlane")})),A(t,r),(0,C.jsx)(c.OT,{text:"More CBC News"}),(0,C.jsx)(x.Z,R({},n.moreContentProps))]})})};K.propTypes={path:s().string,splitProps:s().object};var z=function(e){var t,n=e.path,r=e.splitProps,i=(0,u.useDispatch)();(0,j.useEffect)((function(){i((0,M.L)("apps-video",n))}),[n]);var o=(0,u.useSelector)((function(e){return(0,D.S)(e,"video.curatedPlaylist")})),s=null===(t=_.nv.find((function(e){return e.path===n})))||void 0===t?void 0:t.title,a=null!==o&&void 0!==o&&o.items?o.items.filter((function(e){return e})):[];return(0,C.jsxs)("div",{className:"landingNewsSplit",children:[(0,C.jsx)(I.Z,{title:"Featured",header:"".concat(s," Video"),section:"".concat(n,"/video"),itemCount:V.O9}),(0,C.jsx)(x.Z,R({},r.featuredProps)),(0,C.jsx)(F.Z,R(R({},G),{},{section:"".concat(n,"/swimlane")})),(0,C.jsxs)("div",{className:"playlistSwimlane",children:[(0,C.jsx)(c.OT,{text:"Featured Video"}),(0,C.jsx)(Z.Z,{layout:{playlistTitle:"Featured Video"},items:a})]}),(0,C.jsx)(c.OT,{text:"More CBC News"}),(0,C.jsx)(x.Z,R({},r.moreContentProps))]})};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}z.propTypes=K.propTypes;var U=function(e){var t=e.splitProps,n=(0,u.useSelector)((function(e){return e.video.clipsByCategory}));return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"landingNewsSplit politicsLanding",children:[(0,C.jsx)(x.Z,Q({},t.featuredProps)),function(){var e="News/Politics/Power & Politics",t="Power & Politics";return n[e]?(0,C.jsxs)("div",{className:"playlistSwimlane",children:[(0,C.jsx)(c.OT,{text:"".concat(t," Video")}),(0,C.jsx)(B.Z,{storePath:"video.clipsByCategory.".concat(e),categoryTitle:t,featureAttribution:{name:"media-playlist-player",instance:e.split("/").pop()},showThumbnails:!0})]}):null}(),(0,C.jsx)(c.OT,{text:"More CBC News"}),(0,C.jsx)(x.Z,Q({},t.moreContentProps))]})})};U.propTypes={path:s().string,splitProps:s().object};var X=U;function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){var t=e.swimlane,n=e.contentList,r=e.subSection,i=e.contentProps,o=e.splitProps;return(0,C.jsx)("div",{children:t?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Z,J({},o.featuredProps)),(0,C.jsx)(F.Z,J({},t)),(0,C.jsx)(c.OT,{text:"More ".concat(r," News")}),(0,C.jsx)(x.Z,J({},o.moreContentProps))]}):(0,C.jsx)(x.Z,J({content:n},i))})};Y.propTypes={swimlane:s().object,subSection:s().string,splitProps:s().object,contentList:s().array,contentProps:s().object};var $=Y,ee=n(40238),te=n(31869),ne=n(88101),re=n(91167),ie=n(1473);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e,t,n){var r=(0,re.eN)({navigation:e.pageIntro?e.pageIntro.navigation:[],showName:e.title,baseSection:t,listenRecord:(0,te.Zj)(e.listenLive),showImage:!1},n);return(0,C.jsx)(ee.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))}var ce=function(e){return function(e,t,n){var r=(0,ne.Q7)(e);return r?(0,C.jsx)(ie.d,{path:e,children:se(r,t,n)}):null}(e.path,e.baseSection,e.rightrail)};ce.propTypes={path:s().string,baseSection:s().string,rightrail:s().object};var ae=ce,le=n(69422),ue=n(87166),pe=n(57241),fe=n(89920),de=n(19227),ge=n(50503),je=n(48926),ye=n(97767),he=n(42192),we=n(90955),Oe=n(83696),ve=n(23964),be=n(64107);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e){var t=(0,u.useSelector)((function(e){return e.content})),n=t.hasNextPage,r=t.list,i=t.contentPackage,o=(0,u.useSelector)((function(e){return e.rightRail})),s=(0,u.useSelector)((function(e){return e.video.curatedPlaylist.items})),a=(0,u.useSelector)((function(e){return e.tracking})),p=(0,u.useSelector)((function(e){return e.app})),f=p.path,d=p.title,g=p.baseSection,j=p.subSection,y=p.statusCode,h=p.meta,O=(0,u.useDispatch)(),v="news/politics"===f?de._P:de.yo;(0,ve.Z)(e.match,(function(){return O((0,he.z)(e.match.url,e.match.params))}));var b=function(t){return(0,C.jsx)(E,{viewport:e.viewport,splitProps:t})},m=function(t){return(0,C.jsx)(X,{path:e.match.url.replace(/^\//,""),splitProps:t})},P=function(t){return(0,C.jsx)(K,{path:e.match.url.replace(/^\//,""),splitProps:t})},x=function(e,t){return(0,C.jsx)($,{swimlane:ye.bv[f],contentList:r,subSection:j,contentProps:t,splitProps:e})},S=(0,fe.OV)({meta:h,analytics:a}),Z=l()("landingNews",we.Oo),D=e.abTestGoal?{onClick:function(t){var n;null!==(n=t.target)&&void 0!==n&&n.closest(".contentArea")&&(0,be.Tn)(e.abTestGoal)}}:{};return(0,C.jsx)(ue.Z,{statusCode:y,children:(0,C.jsxs)("div",Pe(Pe({className:Z},D),{},{children:[(0,C.jsx)(c.CD,{hidden:!0,text:d}),(0,C.jsx)(ae,{path:f,baseSection:g,rightrail:o}),function(){var t={subSection:j,viewport:e.viewport,hasTopStories:!0,contentPackage:i,renderCuratedPlaylist:s.length>0,loadMore:null!==n&&void 0!==n&&n,loadMoreFetch:(0,Oe.xm)(f)},o=Se(r,v,t),c=e.match.path;return"news/politics"===f?m(o):f.match(je.WH)?(0,C.jsx)(z,{splitProps:o,path:f}):c.match(je.sm)?P(o):c.match(je.JX)?x(o,t):b(o)}(),(0,C.jsx)(w.Z,{type:"intercept",targeting:{plc:"feed"},lazy:!0}),(0,C.jsx)(le.default,{dtmData:S,type:ge.TYPE_LANDING})]}))})},Se=function(e,t,n){var i=(0,pe.rq)(e,0,!1,t),o=(0,r.Z)(i,2),s=o[0],c=o[1];return{featuredProps:Object.assign({},n,{content:s,cutoffIndex:t,isDenseFeatured:!0,hasTopStories:!1}),moreContentProps:Object.assign({},n,{content:c,hasFeature:!1,hasSidebar:!1,contentPackage:null})}};xe.propTypes={viewport:s().string};var Ze=xe},32532:function(e,t){t.Z={slider:"slider-b0Oy0",carouselContainer:"carouselContainer-vZDfK",landingSports:"landingSports-SxWyy","section-sports-calgarystampede":"section-sports-calgarystampede-P_Hm7"}}}]);
//# sourceMappingURL=../../sourcemaps/oc-pages-LandingNews-component.b7bc0eb8a022bcc70fdb.js.map